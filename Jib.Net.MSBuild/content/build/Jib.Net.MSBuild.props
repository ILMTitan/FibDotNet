<?xml version="1.0" encoding="utf-8" ?>
<!-- 
  This file is automatically imported by NuGet into a user's project
  when it targets a single framework, or in classic (pre 2017) csproj projects.
-->
<Project TreatAsLocalProperty="TaskFolder">
  <PropertyGroup>
    <TaskFolder Condition=" '$(MSBuildRuntimeType)' == 'Core' ">netstandard2.0</TaskFolder>
    <TaskFolder Condition=" '$(MSBuildRuntimeType)' != 'Core' ">net46</TaskFolder>
    <JibTaskAssembly>$(MSBuildThisFileDirectory)..\tasks\$(TaskFolder)\Jib.Net.MSBuild.dll</JibTaskAssembly>
    
    <!-- JibPublishType can be Docker, Registry or Tar. -->
    <JibPublishType Condition="$(JibPublishType) == ''">Docker</JibPublishType>
    <JibAppBasePath Condition="$(JibAppBasePath) == ''">/app/</JibAppBasePath>
    <JibBaseRegistry Condition="$(JibBaseRegistry) == ''">mcr.microsoft.com</JibBaseRegistry>
    <JibBaseRepository Condition="$(JibBaseRepository) == ''">dotnet/core/aspnet</JibBaseRepository>
    <JibBaseTag Condition="$(JibBaseTag) == ''">$(BundledNETCoreAppTargetFrameworkVersion)</JibBaseTag>
    <JibTargetRepository Condition="$(JibTargetRepository) == ''">$(PackageId)</JibTargetRepository>
    <JibTargetTag Condition="$(JibTargetTag) == ''">$(PackageVersion)</JibTargetTag>
    <JibEntrypoint Condition="$(JibEntrypoint) == ''">dotnet</JibEntrypoint>
    <JibCmd Condition="$(JibCmd) == ''">Use Default JibCmd</JibCmd>
    <JibOutputTarFile Condition="$(JibOutputTarFile) == ''">$(OutputPath)$(PackageId).tar</JibOutputTarFile>
    <JibAllowInsecureRegistries Condition="$(JibAllowInsecureRegistries) == ''">false</JibAllowInsecureRegistries>
    <JibOfflineMode Condition="$(JibOfflineMode) == ''">false</JibOfflineMode>
    <JibApplicationLayersCacheDirectory Condition="$(JibApplicationLayersCacheDirectory) == ''">Use Default JibApplicationLayersCacheDirectory</JibApplicationLayersCacheDirectory>
    <JibBaseLayersCacheDirectory Condition="$(JibBaseLayersCacheDirectory) == ''"></JibBaseLayersCacheDirectory>
    <JibReproducableBuild Condition="$(JibReproducableBuild) == ''">True</JibReproducableBuild>
    <JibImageFormat Condition="$(JibImageFormat) == ''">Docker</JibImageFormat>
  </PropertyGroup>

  <ItemGroup>
    <DotNetCliToolReference Include="dotnet-jib" Version="1.0.0-alpha1"/>
  </ItemGroup>
</Project>